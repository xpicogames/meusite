<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MASTER CHALLENGE | Eletrônica</title>
    <style>
        :root {
            --mc-purple: #622599;
            --mc-purple-light: #8b44d1; 
            --mc-green: #28a745;        
            --mc-green-neon: #39ff14;  
            --mc-white: #ffffff;
            --mc-dark: #0f051a;        
            --text-gray: #b1a1c2;
            --glass: rgba(255, 255, 255, 0.05);
        }

        body {
            background-color: var(--mc-dark);
            background-image: radial-gradient(circle at 50% -20%, var(--mc-purple) 0%, transparent 50%);
            color: var(--mc-white);
            font-family: 'Inter', -apple-system, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        #game-container {
            width: 90%;
            max-width: 850px;
            background: var(--glass);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 68, 209, 0.3);
            border-radius: 24px;
            padding: 40px;
            position: relative;
            z-index: 3;
            display: none;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .overlay-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--mc-dark);
            background-image: radial-gradient(circle at 50% 50%, var(--mc-purple) 0%, transparent 70%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            text-align: center;
            padding: 20px;
        }

        #hp-container {
            width: 100%;
            height: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        #hp-bar {
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, var(--mc-green), var(--mc-green-neon));
            transition: width 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        #stats {
            display: flex;
            justify-content: space-between;
            color: var(--text-gray);
            font-weight: 600;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.85rem;
        }

        #question-text { 
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            line-height: 1.4; 
            color: var(--mc-white);
            margin-bottom: 30px;
            font-weight: 600;
        }

        .options-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }

        button {
            background: rgba(139, 68, 209, 0.1);
            color: var(--mc-white);
            border: 1px solid rgba(139, 68, 209, 0.4);
            padding: 16px 20px;
            cursor: pointer;
            border-radius: 12px;
            font-size: 1rem;
            transition: 0.3s;
            text-align: left;
        }

        button:hover {
            background: var(--mc-purple);
            border-color: var(--mc-purple-light);
            transform: translateY(-2px);
        }

        .big-btn {
            background: var(--mc-purple);
            color: white;
            padding: 18px 45px;
            border-radius: 50px;
            font-weight: 800;
            text-transform: uppercase;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 10px 20px rgba(98, 37, 153, 0.4);
        }

        .big-btn:hover {
            background: var(--mc-green-neon);
            color: var(--mc-dark);
        }

        #feedback-flash {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            display: none; align-items: center; justify-content: center;
            z-index: 1000; font-size: 5vw; font-weight: 900;
            pointer-events: none;
            text-transform: uppercase;
        }

        .acerto-flash { background: rgba(40, 167, 69, 0.9); color: white; display: flex !important; }
        .erro-flash { background: rgba(255, 0, 0, 0.9); color: white; display: flex !important; }

        h1 { color: var(--mc-green-neon); text-transform: uppercase; letter-spacing: 2px; }
    </style>
</head>
<body>

<div id="start-screen" class="overlay-screen">
    <h1>Master Challenge</h1>
    <p style="color: var(--text-gray); margin-bottom: 30px;">PROVA DE APTIDÃO EM ELETRÔNICA</p>
    <div style="text-align: left; background: var(--glass); padding: 25px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);">
        <p>• Responda corretamente para manter o circuito estável</p>
        <p>• Erros causam sobrecarga no sistema</p>
        <p>• Sequência de 10 acertos restaura integridade</p>
    </div>
    <button class="big-btn" onclick="startGame()" style="margin-top: 40px;">Iniciar Desafio</button>
</div>

<div id="game-over-screen" class="overlay-screen" style="display: none;">
    <h1 style="color: #ff4444;">Sistema Offline</h1>
    <div id="final-stats-lost" style="margin: 20px 0; color: var(--text-gray);"></div>
    <button class="big-btn" onclick="location.reload()">Tentar Novamente</button>
</div>

<div id="feedback-flash"></div>

<div id="game-container">
    <div id="stats">
        <span>Pergunta <span id="current">1</span>/20</span>
        <span id="hp-text">Integridade: 10/10</span>
        <span>Combo: <span id="streak">0</span></span>
    </div>

    <div id="hp-container">
        <div id="hp-bar"></div>
    </div>

    <div id="screen">
        <p id="question-text">Carregando...</p>
    </div>

    <div id="options" class="options-grid"></div>
</div>

<script>
    // As mesmas 20 questões baseadas na sua apresentação
    const originalQuizData = [
        { q: "Qual o nome do movimento de partículas minúsculas que gera eletricidade?", options: ["Prótons", "Elétrons", "Nêutrons", "Átomos"], correct: 1 },
        { q: "Qual grandeza elétrica representa a 'pressão' ou força que empurra os elétrons?", options: ["Amperes", "Ohms", "Watts", "Volts"], correct: 3 },
        { q: "O componente que dificulta a passagem dos elétrons para controlar a corrente é o:", options: ["LED", "Capacitor", "Resistor", "Bateria"], correct: 2 },
        { q: "Qual fonte de energia é considerada renovável e infinita?", options: ["Petróleo", "Sol (Luz)", "Carvão Mineral", "Gás Natural"], correct: 1 },
        { q: "O fluxo de elétrons (quantidade que passa em um fio) é medido em:", options: ["Volts", "Watts", "Amperes", "Ohms"], correct: 2 },
        { q: "Qual componente 'guarda' energia como uma mola para soltá-la quando necessário?", options: ["Transistor", "Diodo", "Capacitor", "Resistor"], correct: 2 },
        { q: "O LED é um componente econômico que só deixa a energia passar em qual sentido?", options: ["Para os dois lados", "Somente para um lado", "Não deixa a energia passar", "Somente no escuro"], correct: 1 },
        { q: "Qual ferramenta usamos para medir Volts, Amperes e Ohms?", options: ["Osciloscópio", "Protoboard", "Multímetro", "Ferro de Solda"], correct: 2 },
        { q: "Dentro de um Circuito Integrado (CI), existem milhões de:", options: ["Baterias", "Lâmpadas", "Fios de Cobre", "Transistores"], correct: 3 },
        { q: "O componente que funciona como uma 'torneira' ou interruptor eletrônico é o:", options: ["Transistor", "Resistor", "Diodo", "Capacitor"], correct: 0 },
        { q: "Qual o nome da base verde onde os componentes são soldados?", options: ["Protoboard", "PCB (Placa de Circuito Impresso)", "Chapa de Ferro", "LDR"], correct: 1 },
        { q: "Em qual tipo de circuito, se uma lâmpada queimar, todas as outras apagam?", options: ["Circuito em Paralelo", "Circuito em Série", "Circuito Fechado", "Circuito Aberto"], correct: 1 },
        { q: "O sensor LDR muda sua resistência de acordo com o quê?", options: ["Calor", "Som", "Luz", "Vento"], correct: 2 },
        { q: "Como se chama o componente que você pode girar para controlar o volume ou o brilho?", options: ["Potenciômetro", "Interruptor", "Microcontrolador", "Capacitor"], correct: 0 },
        { q: "Qual componente é o 'segurança de balada', deixando a energia entrar mas não sair pelo mesmo caminho?", options: ["LED", "Diodo", "Resistor", "Transistor"], correct: 1 },
        { q: "A unidade de medida da Potência (Força x Fluxo) é o:", options: ["Volt", "Ampere", "Watt", "Ohm"], correct: 2 },
        { q: "Para que serve a Protoboard?", options: ["Soldar componentes para sempre", "Gerar energia infinita", "Testar circuitos sem usar solda", "Medir a voltagem da tomada"], correct: 2 },
        { q: "Qual o 'cérebro' que podemos programar para controlar robôs?", options: ["Microcontrolador (Arduino)", "Bateria", "LDR", "Resistor de 10k"], correct: 0 },
        { q: "Em um circuito em paralelo, se uma lâmpada queimar:", options: ["Todas as outras apagam", "As outras continuam brilhando", "O circuito explode", "A bateria descarrega na hora"], correct: 1 },
        { q: "Qual material usamos para 'colar' os componentes na placa com o ferro quente?", options: ["Cola Quente", "Fita Isolante", "Estanho (Solda)", "Cobre"], correct: 2 }
    ];

    let quizData = [];
    let currentIdx = 0;
    let hits = 0;
    let misses = 0;
    let hp = 10;
    let streak = 0;

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('game-container').style.display = 'block';
        quizData = shuffleArray([...originalQuizData]);
        hp = 10; hits = 0; misses = 0; currentIdx = 0; streak = 0;
        updateHPBar();
        render();
    }

    function updateHPBar() {
        const bar = document.getElementById('hp-bar');
        const text = document.getElementById('hp-text');
        const percentage = (hp / 10) * 100;
        bar.style.width = percentage + "%";
        text.innerText = `Integridade: ${hp}/10`;
        if (hp <= 0) gameOver();
    }

    function gameOver() {
        document.getElementById('game-container').style.display = 'none';
        document.getElementById('game-over-screen').style.display = 'flex';
        document.getElementById('final-stats-lost').innerHTML = `<p>O sistema entrou em curto-circuito.<br>Acertos: ${hits}</p>`;
    }

    function showFeedback(type) {
        const flash = document.getElementById('feedback-flash');
        flash.innerText = type === 'acerto' ? 'Sucesso!' : 'Falha!';
        flash.className = type === 'acerto' ? 'acerto-flash' : 'erro-flash';
        setTimeout(() => {
            flash.className = '';
            currentIdx++;
            render();
        }, 600);
    }

    function check(idx) {
        if (idx === quizData[currentIdx].correct) {
            hits++; streak++;
            if(streak === 10 && hp < 10) { hp++; updateHPBar(); }
            showFeedback('acerto');
        } else {
            misses++; hp--; streak = 0;
            updateHPBar();
            if(hp > 0) showFeedback('erro');
        }
    }

    function render() {
        if (currentIdx >= quizData.length) {
            document.getElementById('screen').innerHTML = `
                <div style="text-align:center">
                    <h2 style="font-size:3em; color:var(--mc-green-neon)">Nota Final: ${Math.round((hits/20)*100)}%</h2>
                    <p>Desafio Concluído com Sucesso!</p>
                </div>`;
            document.getElementById('options').innerHTML = `<button onclick="location.reload()" style="text-align:center; width:100%">Reiniciar Desafio</button>`;
            return;
        }

        const data = quizData[currentIdx];
        document.getElementById('current').innerText = currentIdx + 1;
        document.getElementById('streak').innerText = streak;
        document.getElementById('question-text').innerText = data.q;

        const optCont = document.getElementById('options');
        optCont.innerHTML = '';
        data.options.forEach((o, i) => {
            const b = document.createElement('button');
            b.innerText = o;
            b.onclick = () => check(i);
            optCont.appendChild(b);
        });
    }
</script>
</body>
</html>